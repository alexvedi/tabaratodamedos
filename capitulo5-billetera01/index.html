<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Capitulo 1 Billetera</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="texto">
    <p style="font-size: 14px; line-height: 16px;">Saca los billetes<br>y monedas<br>de la billetera</p>
    <img src="images/flecha.webp" alt="">
  </div>

  <img class="center-bottom" src="images/Recurso 7@2x.webp" alt="" style="z-index: 23; bottom:70px;">
  <img class="center-bottom drag" src="images/Recurso 8@2x-2.webp" alt="" style="z-index: 22; bottom:230px; left: calc(50% + 150px);">
  <img class="center-bottom drag" src="images/Recurso 8@2x.webp" alt="" style="z-index: 22; bottom:240px; left: calc(50% + 80px);">
  <img class="center-bottom" src="images/Recurso 9@2x.webp" alt="" style="z-index: 21;  bottom:322px;">

  <!-- MONEDAS -->
  <img class="center-bottom drag" src="images/moneda01@2x.webp" alt="" style="z-index: 20; bottom:330px; left: calc(50% + 250px);">
  <img class="center-bottom drag" src="images/moneda02@2x.webp" alt="" style="z-index: 19; bottom:330px; left: calc(50% + 250px);">
  <img class="center-bottom drag" src="images/moneda03@2x.webp" alt="" style="z-index: 18; bottom:330px; left: calc(50% + 250px);">
  <img class="center-bottom drag" src="images/moneda04@2x.webp" alt="" style="z-index: 17; bottom:330px; left: calc(50% + 250px);">
  <img class="center-bottom drag" src="images/moneda05@2x.webp" alt="" style="z-index: 16; bottom:330px; left: calc(50% + 250px);">
  <img class="center-bottom drag" src="images/moneda06@2x.webp" alt="" style="z-index: 15; bottom:330px; left: calc(50% + 250px);">

  <img class="center-bottom drag" src="images/Recurso 11@2x-3.webp" alt="" style="z-index: 14; bottom:220px; left: calc(50% + -218px);">
  <img class="center-bottom drag" src="images/Recurso 11@2x-2.webp" alt="" style="z-index: 14; bottom:200px; left: calc(50% + -218px);">
  <img class="center-bottom drag" src="images/Recurso 11@2x.webp" alt="" style="z-index: 21; bottom:180px; left: calc(50% + -218px);">
  <img class="center-bottom" src="images/Recurso 12@2x.webp" alt="" style="z-index: 13;">
  
  <!-- BILLETES -->
  <img class="center-bottom drag" src="images/billete01@2x.webp" alt="" style="z-index: 12; bottom:220px;">
  <img class="center-bottom drag" src="images/billete02@2x.webp" alt="" style="z-index: 11; bottom:220px;">
  <img class="center-bottom drag" src="images/billete03@2x.webp" alt="" style="z-index: 10; bottom:220px;">
  <img class="center-bottom drag" src="images/billete04@2x.webp" alt="" style="z-index: 9; bottom:220px;">
  <img class="center-bottom drag" src="images/billete05@2x.webp" alt="" style="z-index: 8; bottom:220px;">
  <img class="center-bottom drag" src="images/billete06@2x.webp" alt="" style="z-index: 7; bottom:220px;">
  <img class="center-bottom drag" src="images/billete07@2x.webp" alt="" style="z-index: 6; bottom:220px;">
  <img class="center-bottom drag" src="images/billete08@2x.webp" alt="" style="z-index: 5; bottom:220px;">
  <img class="center-bottom drag" src="images/billete09@2x.webp" alt="" style="z-index: 4; bottom:220px;">
  <img class="center-bottom drag" src="images/billete10@2x.webp" alt="" style="z-index: 3; bottom:220px;">
  <img class="center-bottom drag" src="images/billete11@2x.webp" alt="" style="z-index: 2; bottom:220px;">
  <img class="center-bottom drag" src="images/billete12@2x.webp" alt="" style="z-index: 1; bottom:220px;">
  
  <img class="center-bottom" src="images/Recurso 14@2x.webp" alt="" style="z-index: 0; bottom:428px;">

  <!-- GSAP Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>

  <script>
    gsap.registerPlugin(Draggable, InertiaPlugin);
  </script>

  <script>
    window.addEventListener('load', () => {
      // Ajustar tamaño de las imágenes (naturalWidth / 2)
      document.querySelectorAll('img').forEach(img => {
        img.style.width = (img.naturalWidth / 2) + 'px';
        img.style.height = 'auto';
      });
    });
  </script>

  <script>
    // Registro explícito solo para Draggable (aunque no es estrictamente necesario si no se usa otro plugin)
    gsap.registerPlugin(Draggable); 
    
    window.addEventListener('load', () => {
      // Variable global para controlar el z-index máximo
      let maxZIndex = 1000;

      // Activar draggable en elementos con clase "drag"
      Draggable.create('.drag', {
        type: 'x,y',
        // Propiedad eliminada: inertia
        edgeResistance: 0.65, // Puedes mantener la resistencia al borde si lo deseas
        
        onDragStart: function() {
          // Incrementar y asignar el nuevo z-index más alto al elemento arrastrado
          maxZIndex++;
          gsap.set(this.target, { zIndex: maxZIndex });
        }
      });
    });
  </script>

</body>
</html>
